<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Nutrify</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <header class="app-header">
    <h1>Nutrify</h1>
    <nav class="tabs">
      <button id="tabDiet" class="tab active" aria-controls="dietPage">Diet</button>
      <button id="tabSupps" class="tab" aria-controls="suppsPage">Sup-Stack</button>
      <button id="tabHydro" class="tab" aria-controls="hydroPage">Hydration</button>
    </nav>
  </header>

  <!-- DIET NAV -->
  <section class="day-switcher">
    <button id="prevDay" class="pill">Prev</button>
    <div id="dayName" class="day-name">Monday</div>
    <button id="nextDay" class="pill">Next</button>
  </section>

  <!-- DIET -->
  <main id="dietPage">
    <section class="card">
      <h2 class="section-title">Meals</h2>
      <div id="meals"></div>
    </section>

    <section class="card">
      <h2 class="section-title">Remaining Today</h2>
      <div id="macroSummary" class="summary-row"></div>
      <div id="bars"></div>
      <div style="margin-top:8px; display:flex; gap:10px;">
        <button id="resetDay" class="ghost">Reset day</button>
        <button id="resetWeek" class="ghost">Reset week</button>
      </div>
    </section>

    <p class="footnote">
      Diet: toggle meals to update remaining nutrients. Sup-Stack: track “taken today”.
      Hydration: log water and watch the fill rise.
    </p>
  </main>

  <!-- SUPPLEMENTS -->
  <main id="suppsPage" hidden>
    <section class="card">
      <h2 class="section-title">Supplements</h2>
      <div id="suppList"></div>
    </section>

    <section class="card">
      <div class="sheet-header">
        <h3>Add supplement</h3>
        <div class="sheet-actions">
          <button id="undoAdd" class="ghost small" type="button">Undo</button>
        </div>
      </div>

      <form id="addSuppForm" class="sheet">
        <div class="sheet-row">
          <label class="field">
            <span>Name</span>
            <input id="fName" type="text" placeholder="e.g., Zinc" list="suppSuggestions"/>
            <datalist id="suppSuggestions"></datalist>
          </label>
        </div>

        <div class="sheet-row">
          <label class="field">
            <span>Dosage</span>
            <input id="fDose" type="text" placeholder="e.g., 25 mg"/>
          </label>
          <label class="field">
            <span>Timing</span>
            <input id="fTiming" type="text" placeholder="e.g., With breakfast"/>
          </label>
        </div>

        <div class="sheet-row">
          <label class="field">
            <span>Pairs best with</span>
            <input id="fPairs" type="text" placeholder="e.g., Fat-containing meal"/>
          </label>
          <label class="field">
            <span>Notes</span>
            <input id="fNotes" type="text" placeholder="e.g., Keep 2h away from iron"/>
          </label>
        </div>

        <div class="sheet-row">
          <button type="button" id="cancelSheet" class="ghost">Cancel</button>
          <button type="submit" id="saveSheet" class="primary">Save</button>
        </div>
      </form>
    </section>
  </main>

  <!-- HYDRATION -->
  <main id="hydroPage" hidden>
    <section class="card">
      <h2 class="section-title">Hydration</h2>

      <div class="goal-row">
        <div>
          <div class="goal-title">Daily goal</div>
          <div class="goal-sub"><span id="goalLiters">3 L</span> (<span id="goalMl">3000</span> ml)</div>
        </div>
        <div class="goal-actions">
          <button id="editGoal" class="ghost small" type="button">Edit</button>
          <label class="switch">
            <input id="autoCreatine" type="checkbox"/>
            <span class="slider"></span>
          </label>
          <span class="hint">Auto-goal (Creatine)</span>
        </div>
      </div>

      <!-- Bottle -->
      <div class="bottle-wrap">
        <svg id="bottle" viewBox="0 0 200 420" class="bottle">
          <defs>
            <linearGradient id="waterGrad" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0%" stop-color="#34d399"/>
              <stop offset="100%" stop-color="#059669"/>
            </linearGradient>
            <clipPath id="bottleClip">
              <path d="M40,30 h120 v40 c0,20 -10,30 -10,50 v240 c0,40 -25,60 -50,60 s-50,-20 -50,-60 V120 c0,-20 -10,-30 -10,-50 z"/>
            </clipPath>
          </defs>
          <rect x="40" y="30" width="120" height="360" rx="16" ry="16" fill="#0b1323" stroke="#334155" stroke-width="2"/>
          <!-- water level -->
          <g clip-path="url(#bottleClip)">
            <rect id="water" x="40" y="350" width="120" height="40" fill="url(#waterGrad)"/>
            <circle id="blob1" cx="90" cy="345" r="14" fill="#38bdf8" opacity="0.35"/>
            <circle id="blob2" cx="150" cy="360" r="10" fill="#38bdf8" opacity="0.35"/>
          </g>
        </svg>

        <div class="today">
          <div class="today-line">
            <span>Today:</span>
            <strong><span id="todayLiters">0</span> L</strong>
            <span>&nbsp;/&nbsp;</span>
            <span id="todayGoalLiters">3</span> L
          </div>
          <div class="today-sub" id="todayPct">0%</div>
        </div>
      </div>

      <div class="quick-row">
        <button class="pill" data-add="250">+250 ml</button>
        <button class="pill" data-add="500">+500 ml</button>
        <button class="pill" data-add="750">+750 ml</button>
        <button class="pill" data-add="1000">+1 L</button>
      </div>

      <div class="entry-row">
        <input id="customMl" type="number" placeholder="Enter ml"/>
        <button id="addCustom" class="primary">Add</button>
        <button id="resetToday" class="ghost">Reset today</button>
      </div>
    </section>

    <section class="card">
      <h2 class="section-title">Last 7 days</h2>
      <div id="hydroHistory" class="hydro-history"></div>
    </section>
  </main>

  <footer class="app-footer">
    <div class="tip">Diet: toggle meals to update remaining nutrients. Sup-Stack: track “taken today”. Hydration: log water and watch the fill rise.</div>
  </footer>

  <!-- Data (meals & suggestions) -->
  <script src="data.js"></script>
  <!-- App modules (ES modules entry) -->
  <script type="module" src="js/app.js"></script>
</body>
</html>