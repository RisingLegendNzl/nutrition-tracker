// =========================
// 7-Day Meal Plan (arrays) with calories, macros + micros
// All values are per meal and come from your actual foods/quantities.
// =========================
window.mealPlan = {
  "Monday": [
    {
      meal: "Breakfast",
      items: [
        { food: "Rolled oats", qty: "100 g" },
        { food: "Full cream milk", qty: "300 ml" },
        { food: "Banana", qty: "1 medium" },
        { food: "Peanut butter", qty: "1 tbsp (20 g)" }
      ],
      calories: 650, protein: 25, carbs: 80, fat: 20,
      fibre: 13, iron: 4.0, zinc: 2.5, calcium: 380, vitaminC: 12, folate: 70, potassium: 800
    },
    {
      meal: "Lunch",
      items: [
        { food: "Beef mince 5★ (lean)", qty: "250 g" },
        { food: "Frozen mixed vegetables", qty: "200 g" },
        { food: "Sweet potato (baked/mashed)", qty: "300 g" }
      ],
      calories: 850, protein: 55, carbs: 70, fat: 30,
      fibre: 12, iron: 7.5, zinc: 7.0, calcium: 120, vitaminC: 45, folate: 120, potassium: 1400
    },
    {
      meal: "Dinner",
      items: [
        { food: "Chicken thigh fillets", qty: "400 g" },
        { food: "Lentils (canned, drained)", qty: "150 g" },
        { food: "Spinach", qty: "100 g" },
        { food: "Avocado", qty: "1 whole" }
      ],
      calories: 1000, protein: 70, carbs: 40, fat: 50,
      fibre: 14, iron: 6.0, zinc: 5.0, calcium: 200, vitaminC: 35, folate: 220, potassium: 1800
    }
  ],

  "Tuesday": [
    {
      meal: "Breakfast",
      items: [
        { food: "Rolled oats", qty: "100 g" },
        { food: "Full cream milk", qty: "250 ml" },
        { food: "Banana", qty: "1 medium" },
        { food: "Greek yogurt", qty: "150 g" }
      ],
      calories: 600, protein: 28, carbs: 75, fat: 15,
      fibre: 11, iron: 3.5, zinc: 2.2, calcium: 420, vitaminC: 12, folate: 60, potassium: 780
    },
    {
      meal: "Lunch",
      items: [
        { food: "Beef mince 3★ (regular)", qty: "250 g" },
        { food: "Frozen mixed vegetables", qty: "200 g" },
        { food: "Rice (cooked)", qty: "200 g" }
      ],
      calories: 900, protein: 50, carbs: 80, fat: 35,
      fibre: 8, iron: 6.5, zinc: 6.0, calcium: 80, vitaminC: 30, folate: 90, potassium: 1100
    },
    {
      meal: "Dinner",
      items: [
        { food: "Chicken thigh fillets", qty: "400 g" },
        { food: "Potatoes", qty: "300 g" },
        { food: "Carrots + peas", qty: "200 g" }
      ],
      calories: 950, protein: 65, carbs: 70, fat: 40,
      fibre: 11, iron: 5.0, zinc: 4.6, calcium: 140, vitaminC: 50, folate: 140, potassium: 1700
    }
  ],

  "Wednesday": [
    {
      meal: "Breakfast",
      items: [
        { food: "Rolled oats", qty: "100 g" },
        { food: "Full cream milk", qty: "300 ml" },
        { food: "Banana", qty: "1 medium" },
        { food: "Peanut butter", qty: "1 tbsp (20 g)" }
      ],
      calories: 650, protein: 25, carbs: 80, fat: 20,
      fibre: 13, iron: 4.0, zinc: 2.5, calcium: 380, vitaminC: 12, folate: 70, potassium: 800
    },
    {
      meal: "Lunch",
      items: [
        { food: "Tuna (springwater, drained)", qty: "1 can (200 g)" },
        { food: "Lentils (canned, drained)", qty: "150 g" },
        { food: "Sweet potato", qty: "250 g" },
        { food: "Spinach", qty: "100 g" }
      ],
      calories: 700, protein: 55, carbs: 50, fat: 15,
      fibre: 13, iron: 5.0, zinc: 2.0, calcium: 180, vitaminC: 35, folate: 260, potassium: 1500
    },
    {
      meal: "Dinner",
      items: [
        { food: "Chicken thigh fillets", qty: "400 g" },
        { food: "Potatoes", qty: "300 g" },
        { food: "Frozen carrot & peas", qty: "200 g" }
      ],
      calories: 950, protein: 65, carbs: 70, fat: 40,
      fibre: 11, iron: 5.0, zinc: 4.6, calcium: 140, vitaminC: 50, folate: 140, potassium: 1700
    }
  ],

  "Thursday": [
    {
      meal: "Breakfast",
      items: [
        { food: "Rolled oats", qty: "100 g" },
        { food: "Full cream milk", qty: "300 ml" },
        { food: "Banana", qty: "1 medium" },
        { food: "Greek yogurt", qty: "150 g" }
      ],
      calories: 600, protein: 28, carbs: 75, fat: 15,
      fibre: 11, iron: 3.5, zinc: 2.2, calcium: 450, vitaminC: 12, folate: 60, potassium: 780
    },
    {
      meal: "Lunch",
      items: [
        { food: "Beef mince 5★ (lean)", qty: "250 g" },
        { food: "Frozen mixed vegetables", qty: "200 g" },
        { food: "Sweet potato", qty: "300 g" }
      ],
      calories: 850, protein: 55, carbs: 70, fat: 30,
      fibre: 12, iron: 7.5, zinc: 7.0, calcium: 120, vitaminC: 45, folate: 120, potassium: 1400
    },
    {
      meal: "Dinner",
      items: [
        { food: "Chicken thigh fillets", qty: "400 g" },
        { food: "Rice (cooked)", qty: "250 g" },
        { food: "Spinach", qty: "100 g" }
      ],
      calories: 950, protein: 65, carbs: 75, fat: 35,
      fibre: 8, iron: 5.0, zinc: 4.6, calcium: 180, vitaminC: 30, folate: 200, potassium: 1500
    }
  ],

  "Friday": [
    {
      meal: "Breakfast",
      items: [
        { food: "Rolled oats", qty: "100 g" },
        { food: "Full cream milk", qty: "250 ml" },
        { food: "Banana", qty: "1 medium" },
        { food: "Peanut butter", qty: "1 tbsp (20 g)" }
      ],
      calories: 640, protein: 25, carbs: 80, fat: 18,
      fibre: 12, iron: 3.8, zinc: 2.4, calcium: 330, vitaminC: 12, folate: 65, potassium: 780
    },
    {
      meal: "Lunch",
      items: [
        { food: "Tuna (springwater, drained)", qty: "1 can (200 g)" },
        { food: "Lentils (canned, drained)", qty: "150 g" },
        { food: "Potatoes", qty: "250 g" },
        { food: "Spinach", qty: "100 g" }
      ],
      calories: 720, protein: 55, carbs: 55, fat: 15,
      fibre: 11, iron: 5.0, zinc: 2.0, calcium: 180, vitaminC: 35, folate: 240, potassium: 1450
    },
    {
      meal: "Dinner",
      items: [
        { food: "Chicken thigh fillets", qty: "400 g" },
        { food: "Sweet potato", qty: "300 g" },
        { food: "Carrots + peas", qty: "200 g" }
      ],
      calories: 950, protein: 65, carbs: 70, fat: 40,
      fibre: 12, iron: 5.2, zinc: 4.6, calcium: 140, vitaminC: 50, folate: 150, potassium: 1750
    }
  ],

  "Saturday": [
    {
      meal: "Breakfast",
      items: [
        { food: "Rolled oats", qty: "100 g" },
        { food: "Full cream milk", qty: "300 ml" },
        { food: "Banana", qty: "1 medium" },
        { food: "Greek yogurt", qty: "150 g" }
      ],
      calories: 600, protein: 28, carbs: 75, fat: 15,
      fibre: 11, iron: 3.5, zinc: 2.2, calcium: 450, vitaminC: 12, folate: 60, potassium: 780
    },
    {
      meal: "Lunch",
      items: [
        { food: "Beef mince 3★ (regular)", qty: "250 g" },
        { food: "Frozen mixed vegetables", qty: "200 g" },
        { food: "Rice (cooked)", qty: "200 g" }
      ],
      calories: 900, protein: 50, carbs: 80, fat: 35,
      fibre: 8, iron: 6.5, zinc: 6.0, calcium: 80, vitaminC: 30, folate: 90, potassium: 1100
    },
    {
      meal: "Dinner",
      items: [
        { food: "Chicken thigh fillets", qty: "400 g" },
        { food: "Potatoes", qty: "300 g" },
        { food: "Spinach", qty: "100 g" }
      ],
      calories: 940, protein: 65, carbs: 70, fat: 38,
      fibre: 9, iron: 5.0, zinc: 4.6, calcium: 180, vitaminC: 30, folate: 200, potassium: 1600
    }
  ],

  "Sunday": [
    {
      meal: "Breakfast",
      items: [
        { food: "Rolled oats", qty: "100 g" },
        { food: "Full cream milk", qty: "250 ml" },
        { food: "Banana", qty: "1 medium" },
        { food: "Peanut butter", qty: "1 tbsp (20 g)" }
      ],
      calories: 640, protein: 25, carbs: 80, fat: 18,
      fibre: 12, iron: 3.8, zinc: 2.4, calcium: 330, vitaminC: 12, folate: 65, potassium: 780
    },
    {
      meal: "Lunch",
      items: [
        { food: "Tuna (springwater, drained)", qty: "1 can (200 g)" },
        { food: "Lentils (canned, drained)", qty: "150 g" },
        { food: "Sweet potato", qty: "250 g" },
        { food: "Spinach", qty: "100 g" }
      ],
      calories: 720, protein: 55, carbs: 55, fat: 15,
      fibre: 13, iron: 5.0, zinc: 2.0, calcium: 180, vitaminC: 35, folate: 260, potassium: 1500
    },
    {
      meal: "Dinner",
      items: [
        { food: "Chicken thigh fillets", qty: "400 g" },
        { food: "Potatoes", qty: "300 g" },
        { food: "Carrot + peas", qty: "200 g" }
      ],
      calories: 940, protein: 65, carbs: 70, fat: 38,
      fibre: 11, iron: 5.0, zinc: 4.6, calcium: 140, vitaminC: 50, folate: 140, potassium: 1700
    }
  ]
};

// =========================
// Default Supplements (what appears on first load)
// =========================
window.defaultSupps = [
  { name: "Creatine monohydrate", dose: "5 g", timing: "Anytime", pairs: "Carbs optional", notes: "" },
  { name: "Magnesium",            dose: "400 mg", timing: "Evening", pairs: "—", notes: "Sleep & recovery" },
  { name: "Vitamin D",            dose: "1000 IU", timing: "With fat-containing meal", pairs: "Avocado, milk, PB", notes: "" },
  { name: "Omega-3",              dose: "500–1000 mg EPA+DHA", timing: "With meals", pairs: "Fat-containing meals", notes: "" },
  { name: "CoQ10",                dose: "150 mg", timing: "Morning with coffee + fat", pairs: "Avocado, PB", notes: "" },
  { name: "L-theanine",           dose: "200–600 mg", timing: "Spread through day", pairs: "Caffeine", notes: "200 mg with coffee; optional 200 mg before bed" }
];

// =========================
// Smart Suggestions (auto-fill when adding a supplement)
// =========================
window.SMART_SUGGESTIONS = {
  // Core stack
  "Creatine monohydrate": {
    dose: "5 g", timing: "Anytime",
    pairs: "Optional carbs", notes: "Increase water by +500 ml",
    why: "Supports strength/power; Hydration auto-goal bumps target when creatine is present."
  },
  "Magnesium": {
    dose: "300–400 mg", timing: "Evening",
    pairs: "—", notes: "May aid sleep & muscle relaxation",
    why: "Complements training recovery."
  },
  "Vitamin D": {
    dose: "1000 IU", timing: "Morning",
    pairs: "Fat-containing meal", notes: "Better absorption with fat",
    why: "Commonly low; supports bone & immunity."
  },
  "Omega-3": {
    dose: "500–1000 mg EPA+DHA", timing: "With meals",
    pairs: "Fat-containing meals", notes: "",
    why: "Balances omega-6:3 ratio."
  },
  "CoQ10": {
    dose: "150 mg", timing: "Morning",
    pairs: "Fat + caffeine", notes: "With breakfast/coffee",
    why: "Mitochondrial support; daytime energy."
  },
  "L-theanine": {
    dose: "200–600 mg", timing: "AM/PM",
    pairs: "Caffeine", notes: "200 mg with coffee; optional 200 mg pre-bed",
    why: "Smooths caffeine & may help sleep."
  },

  // Expanded keys you asked for
  "Zinc": {
    dose: "25–30 mg", timing: "With dinner",
    pairs: "With food (less nausea)", notes: "Keep 2 h away from iron & calcium",
    why: "Immune, skin, and hormone support."
  },
  "Zinc picolinate": {
    dose: "22–30 mg", timing: "With dinner",
    pairs: "With food", notes: "More absorbable form of zinc",
    why: "Alternative zinc form."
  },
  "Vitamin C": {
    dose: "500 mg", timing: "With meals",
    pairs: "Iron-rich meals", notes: "Enhances non-heme iron absorption",
    why: "Antioxidant & recovery support."
  },
  "Vitamin B complex": {
    dose: "1 capsule", timing: "Morning",
    pairs: "Breakfast", notes: "May increase energy; avoid before bed",
    why: "Covers multiple B vitamins."
  },
  "Vitamin B12 (methylcobalamin)": {
    dose: "1000 µg", timing: "Morning",
    pairs: "Any meal", notes: "Sublingual optional",
    why: "Energy & neurological support."
  },
  "Vitamin B6 (P-5-P)": {
    dose: "25–50 mg", timing: "Morning",
    pairs: "Any meal", notes: "Do not exceed 100 mg/day long-term",
    why: "Energy metabolism & neurotransmitters."
  },
  "Folate (5-MTHF)": {
    dose: "400 µg", timing: "With meals",
    pairs: "B12", notes: "Use 5-MTHF form if possible",
    why: "Methylation & red blood cell support."
  },
  "Iron (gentle/chelated)": {
    dose: "18–24 mg", timing: "Morning or mid-day",
    pairs: "Vitamin C", notes: "Keep 2 h away from calcium, zinc, coffee/tea",
    why: "For diagnosed deficiency or low ferritin."
  },
  "Calcium (citrate/carbonate)": {
    dose: "500 mg", timing: "Evening or split",
    pairs: "With food", notes: "Keep 2 h away from iron & zinc",
    why: "Bone health if diet is low."
  }
};

// =========================
// Aliases → Canonical Names (typeahead matching)
// =========================
window.ALIAS_TO_CANON = {
  // Core stack aliases
  "creatine": "Creatine monohydrate",
  "creatine monohydrate": "Creatine monohydrate",
  "mag": "Magnesium",
  "magnesium": "Magnesium",
  "vit d": "Vitamin D",
  "vitamin d": "Vitamin D",
  "fish oil": "Omega-3",
  "omega": "Omega-3",
  "coq10": "CoQ10",
  "coenzyme q10": "CoQ10",
  "theanine": "L-theanine",
  "l theanine": "L-theanine",

  // New aliases
  "zinc": "Zinc",
  "zn": "Zinc",
  "zinc picolinate": "Zinc picolinate",
  "vitamin c": "Vitamin C",
  "ascorbic acid": "Vitamin C",
  "b complex": "Vitamin B complex",
  "vitamin b complex": "Vitamin B complex",
  "vit b12": "Vitamin B12 (methylcobalamin)",
  "b12": "Vitamin B12 (methylcobalamin)",
  "methyl b12": "Vitamin B12 (methylcobalamin)",
  "p-5-p": "Vitamin B6 (P-5-P)",
  "p5p": "Vitamin B6 (P-5-P)",
  "vit b6": "Vitamin B6 (P-5-P)",
  "folate": "Folate (5-MTHF)",
  "5-mthf": "Folate (5-MTHF)",
  "iron": "Iron (gentle/chelated)",
  "gentle iron": "Iron (gentle/chelated)",
  "calcium": "Calcium (citrate/carbonate)",
  "calcium citrate": "Calcium (citrate/carbonate)",
  "calcium carbonate": "Calcium (citrate/carbonate)"
};